(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(267)},125:function(e,t,a){},241:function(e,t,a){},249:function(e,t,a){},254:function(e,t,a){},256:function(e,t,a){},259:function(e,t,a){},261:function(e,t,a){},265:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),i=(a(125),a(6)),l=a(7),s=a(9),u=a(8),m=a(10),p=a(272),d=a(271),h=a(270),b=a(27),f=a.n(b),E=a(16),g=a(38),O=a.n(g),y=a(94),v=a.n(y),j=a(95),k=a.n(j),w=a(36),N=a.n(w),C=a(39),P=a.n(C),S=a(13),R=a.n(S),x=a(268),D=Object(E.createMuiTheme)({overrides:{MuiButton:{text:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",borderRadius:3,border:0,color:"white",height:38,padding:"0 15px",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",fontSize:12}}},typography:{useNextVariants:!0}}),B=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.buyProduct,n=e.products,c=n.img,o=n.id,i=n.name,l=n.price,s=n.description,u=s.length>30?s.slice(0,30)+"...":s;return r.a.createElement(O.a,{className:t.card},r.a.createElement(v.a,null,r.a.createElement(P.a,{className:t.media,image:c,title:"Contemplative Reptile"}),r.a.createElement(N.a,null,r.a.createElement(R.a,{gutterBottom:!0,variant:"h6",component:"h2",className:t.center},i),r.a.createElement(R.a,{gutterBottom:!0,variant:"h6",component:"h2",className:t.center},l," $"),r.a.createElement(R.a,{gutterBottom:!0,component:"p"},u))),r.a.createElement(k.a,null,r.a.createElement(f.a,{variant:"contained",size:"medium",color:"secondary",onClick:a},"Buy now"),r.a.createElement(x.a,{to:"/phones/".concat(o)},r.a.createElement(E.MuiThemeProvider,{theme:D},r.a.createElement(f.a,null,"Read more")))))}}]),t}(n.Component),_=Object(E.withStyles)({card:{maxWidth:250,padding:5,fontSize:12},media:{height:250},center:{textAlign:"center"}})(B),L=a(118),T=a(5),F=a.n(T),M=a(96),H=a.n(M),I=a(98),z=a.n(I),A=a(99),U=a.n(A),V=a(100),W=a.n(V),$=a(31),G=a.n($),J=a(101),K=a.n(J),X=a(64),Y=a.n(X),q=a(97),Q=a.n(q),Z={success:H.a,warning:Q.a,error:z.a,info:U.a};var ee=Object(E.withStyles)(function(e){return{info:{backgroundColor:e.palette.primary.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,c=e.onClose,o=e.variant,i=Object(L.a)(e,["classes","className","message","onClose","variant"]),l=Z[o];return r.a.createElement(Y.a,Object.assign({className:F()(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:F()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(G.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:c},r.a.createElement(W.a,{className:t.icon}))]},i))}),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.open,autoHideDuration:3e3,onClose:this.handleClose},r.a.createElement(ee,{variant:"info",className:e.margin,message:"This is all phones."})))}}]),t}(r.a.Component),ae=Object(E.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(te),ne=(a(241),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).fetchNewProduct=function(){a.props.fetchData(a.props.limit,a.props.page)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.products.length&&this.fetchNewProduct()}},{key:"render",value:function(){var e=this.props,t=e.products,a=e.isDisabled,n=e.buyProduct;return r.a.createElement("div",{className:"product-list-wrapper"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"product-list"},t.map(function(e){return r.a.createElement("div",{className:"product-item",key:e.id},r.a.createElement(_,{products:e,buyProduct:n(e)}))})),r.a.createElement("div",{className:"show-more"},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.fetchNewProduct,disabled:this.props.isDisabled},"Show More"),a?r.a.createElement(ae,null):null)))}}]),t}(n.Component)),re=a(21),ce="FETCH_NEXT_PAGE",oe="SHOW_MORE_PRODUCTS",ie="FETCH_PHONES_SUCCESS",le="ADD_ERROR",se="REMOVE_ERROR",ue=function(e){return{type:le,payload:e}},me=function(e,t){return function(a){return fetch("http://localhost:3002/api/products?_limit=".concat(e,"&_page=").concat(t)).then(function(e){return e.json()}).then(function(n){a({type:ie,payload:{products:n}}),n.length<e?a({type:oe}):a(function(e){return{type:ce,payload:e}}(t+1))}).catch(function(e){return a(ue(e.message))})}},pe=function(e){return{type:"ADD_PRODUCT_TO_BASKET",payload:e}},de=Object(re.b)(function(e){return{products:e.productListReducer.listPhone,page:e.productListReducer.page,limit:e.productListReducer.limit,isDisabled:e.productListReducer.showMoreProducts,error:e.errorReducer.error}},function(e){return{fetchData:function(t,a){return e(me(t,a))},buyProduct:function(t){return function(){return e(pe(t))}}}})(ne);var he=Object(E.withStyles)(function(e){return{card:{display:"flex",padding:10},details:{display:"flex",flexDirection:"column",flex:"auto"},cover:{minWidth:250,minHeight:300,flex:"1 1 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing.unit,paddingBottom:e.spacing.unit},playIcon:{height:38,width:38},name:{paddingBottom:20,color:"blue"},desc:{textAlign:"left",paddingLeft:20,paddingBottom:10},price:{color:"green",paddingBottom:20}}},{withTheme:!0})(function(e){var t=e.classes,a=e.name,n=e.price,c=e.description,o=e.img,i=e.buyProduct;return r.a.createElement(O.a,{className:t.card},r.a.createElement(P.a,{className:t.cover,image:o,title:"Live from space album cover"}),r.a.createElement("div",{className:t.details},r.a.createElement(N.a,{className:t.content},r.a.createElement(R.a,{component:"h5",variant:"h5",className:t.name},a),r.a.createElement(R.a,{component:"h5",variant:"h5",className:t.price},"Price: $",n),r.a.createElement(R.a,{component:"h5",variant:"h5",classNmae:t.btn},r.a.createElement(f.a,{variant:"contained",size:"medium",color:"secondary",onClick:i},"Buy now"))),r.a.createElement(N.a,{className:t.content},r.a.createElement(R.a,{component:"h5",variant:"h6",className:t.desc},"Description:"),r.a.createElement(R.a,{variant:"subtitle1",color:"textSecondary",className:t.desc},c))))}),be=a(103),fe=a.n(be),Ee=a(105),ge=a.n(Ee),Oe=a(102),ye=a.n(Oe),ve=a(104),je=a.n(ve),ke=a(83),we=a.n(ke),Ne=a(35),Ce=a.n(Ne),Pe=Object(E.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(ye.a),Se=0;function Re(e,t){return{id:Se+=1,name:e,details:t}}var xe=Object(E.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},tableHead:{width:"100%"}}}})(function(e){var t=e.classes,a=e.cpu,n=e.camera,c=e.size,o=e.weight,i=e.display,l=e.battery,s=e.memory,u=[Re("Cpu",a),Re("Camera",n),Re("Size",c),Re("Weight",o),Re("Display",i),Re("Battery",l),Re("Memory",s)];return r.a.createElement(Ce.a,{className:t.root},r.a.createElement(fe.a,{className:t.table},r.a.createElement(je.a,null,r.a.createElement(we.a,{className:t.tableHead},r.a.createElement(Pe,null,"Specifications"),r.a.createElement(Pe,{align:"center"},"Details"))),r.a.createElement(ge.a,null,u.map(function(e){return r.a.createElement(we.a,{className:t.row,key:e.id},r.a.createElement(Pe,{component:"th",scope:"row"},e.name),r.a.createElement(Pe,{align:"center"},e.details))}))))}),De=(a(249),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getOneItem(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.phoneCard,a=e.buyProduct;return r.a.createElement("div",{className:"phone-wrapper"},r.a.createElement(he,Object.assign({},t,{buyProduct:a(t)})),r.a.createElement(xe,t))}}]),t}(n.PureComponent)),Be=function(e){return{type:"FETCH_PHONE_ID_SUCCESS",payload:e}};var _e=Object(re.b)(function(e){return{phoneCard:e.phonePageReducer.product,error:e.errorReducer.productsError}},function(e){return{getOneItem:function(t){return e((a=t,function(e){var t;return fetch("http://localhost:3002/api/products/".concat(a)).then(function(e){return t=e.status,e.json()}).then(function(a){t>=400&&t<499&&e(ue(t)),e(Be(a))}).catch(function(t){return e(ue(t.message))})}));var a},buyProduct:function(t){return function(){return e(pe(t))}}}})(De),Le=a(108),Te=a.n(Le),Fe=a(109),Me=a.n(Fe),He=a(110),Ie=a.n(He),ze=a(106),Ae=a.n(ze),Ue=a(107),Ve=a.n(Ue);var We=Object(E.withStyles)(function(e){return{badge:{top:1,right:-15,border:"2px solid ".concat("light"===e.palette.type?e.palette.grey[200]:e.palette.grey[600])}}})(function(e){var t=e.classes,a=e.basketCount;return r.a.createElement(G.a,{"aria-label":"Cart"},r.a.createElement(Ae.a,{badgeContent:a,color:"primary",classes:{badge:t.badge}},r.a.createElement(Ve.a,null)))}),$e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.basketCount;return r.a.createElement("div",{className:t.root},r.a.createElement(Te.a,{position:"static"},r.a.createElement(Me.a,null,r.a.createElement(G.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(Ie.a,null)),r.a.createElement(R.a,{variant:"h6",color:"inherit",className:t.grow},r.a.createElement(x.a,{to:"/"},"Home")),r.a.createElement(R.a,{variant:"h6",color:"inherit",className:t.grow},r.a.createElement(x.a,{to:"/phones"},"Phones")),r.a.createElement("div",null,r.a.createElement(x.a,{to:"/basket"},r.a.createElement(We,{basketCount:a}))))))}}]),t}(r.a.Component),Ge=Object(E.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})($e),Je=(a(254),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.basketCount;return r.a.createElement("div",{className:"header"},r.a.createElement(Ge,{basketCount:e}))}}]),t}(n.Component)),Ke=Object(re.b)(function(e){return{basketCount:e.basketReducer.basketList.reduce(function(e,t){return e+t.count},0)}})(Je),Xe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Footer")}}]),t}(n.Component),Ye=(a(256),a(269)),qe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){return this.props.error?r.a.createElement(Ye.a,{to:"/404"}):null}}]),t}(n.Component),Qe=Object(re.b)(function(e){return{error:e.errorReducer.productsError}},function(e){return{removeError:function(){return e({type:se})}}})(qe),Ze=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,null),r.a.createElement("div",{className:"container"},e),r.a.createElement(Xe,null),r.a.createElement(Qe,null))}}]),t}(n.Component),et=(a(259),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"notFound"},r.a.createElement(R.a,{variant:"title",color:"inherit",className:this.props.classes.flex},"Sorry, but this product is missing"),r.a.createElement(x.a,{to:"/phones"},r.a.createElement(f.a,{variant:"contained",color:"primary"},"Back to phone page")))}}]),t}(n.Component)),tt=Object(E.withStyles)({flex:{flex:1,color:"red",padding:15}})(et),at=(a(261),a(111)),nt=a.n(at),rt=a(112),ct=a.n(rt);var ot=Object(E.withStyles)(function(e){return{card:{display:"flex",flexDirection:"row-reverse",width:375,justifyContent:"space-between"},details:{display:"flex",flexDirection:"column"},cover:{width:125},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing.unit,paddingBottom:e.spacing.unit},playIcon:{height:38,width:38},item:{padding:5,fontSize:14},content:{display:"flex",flexDirection:"row-reverse"}}},{withTheme:!0})(function(e){var t=e.classes,a=e.removeProductFromBasket,n=e.item,c=n.name,o=n.price,i=n.count,l=n.img,s=n.id;return r.a.createElement(O.a,{className:t.card},r.a.createElement(nt.a,{action:r.a.createElement(G.a,{onClick:a(s)},r.a.createElement(ct.a,null)),"aria-label":"Delete",align:"right"}),r.a.createElement("div",{className:t.content},r.a.createElement(N.a,{className:t.details},r.a.createElement(R.a,{align:"center",component:"h4",variant:"h6",className:t.item},c),r.a.createElement(R.a,{align:"center",component:"h4",variant:"h6",className:t.item},o," $"),r.a.createElement(R.a,{variant:"subtitle1",color:"textSecondary",className:t.item},"Products: ",i),r.a.createElement(R.a,{variant:"subtitle1",color:"textSecondary",className:t.item},"Total: ",o*i)),r.a.createElement(P.a,{className:t.cover,image:l,title:"Phone img"})))}),it=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.basketList,a=e.removeProductFromBasket,n=e.totalPrice;return r.a.createElement(r.a.Fragment,null,t.length?r.a.createElement("div",{className:"totalSum"},r.a.createElement(Ce.a,{elevation:1},r.a.createElement(R.a,{component:"p",className:"totalContent"},"Total price: ",n," $"))):r.a.createElement("div",{className:"emptyBasket"},"Your basked is missing"),r.a.createElement("div",{className:"baskedCard"},t.map(function(e){return r.a.createElement("div",{className:"baskedItem",key:e.id},r.a.createElement(ot,{item:e,removeProductFromBasket:a}))})))}}]),t}(n.PureComponent),lt=a(113),st=Object(lt.a)(function(e){return e.basketReducer.basketList},function(e){return e.reduce(function(e,t){return e+t.count*t.price},0)}),ut=Object(re.b)(function(e){return{basketList:e.basketReducer.basketList,totalPrice:st(e)}},function(e){return{buyProduct:function(t){return function(){return e(pe(t))}},removeProductFromBasket:function(t){return function(){return e(function(e){return{type:"REMOVE_PRODUCT",payload:e}}(t))}}}})(it),mt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null,r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/phones",component:de,exact:!0}),r.a.createElement(d.a,{path:"/phones/:id",component:_e}),r.a.createElement(d.a,{path:"/basket",component:ut}),r.a.createElement(d.a,{path:"/404",component:tt}))))}}]),t}(n.Component),pt=a(32),dt=a(114),ht=a(115),bt=a(117),ft=a(43),Et=a(28),gt={showMoreProducts:!1,listPhone:[],page:1,limit:6};var Ot={product:{}},yt={productsError:null};var vt={basketList:[]},jt=Object(pt.combineReducers)({routing:bt.a,productListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ie:return Object(Et.a)({},e,{listPhone:[].concat(Object(ft.a)(e.listPhone),Object(ft.a)(n.products))});case oe:return Object(Et.a)({},e,{showMoreProducts:!0});case ce:return Object(Et.a)({},e,{page:n});default:return e}},phonePageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONE_ID_SUCCESS":return{product:n};default:return e}},basketReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"ADD_PRODUCT_TO_BASKET":return e.basketList.find(function(e){return e.id===a.id})?Object(Et.a)({},e,{basketList:e.basketList.map(function(e){return e.id===a.id?Object(Et.a)({},e,{count:e.count+1}):e})}):Object(Et.a)({},e,{basketList:[].concat(Object(ft.a)(e.basketList),[Object(Et.a)({},a,{count:1})])});case"REMOVE_PRODUCT":return Object(Et.a)({},e,{basketList:e.basketList.filter(function(e){return e.id!==a})});default:return e}},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case le:return{productsError:a};case se:return{productsError:null};default:return e}}}),kt=Object(pt.createStore)(jt,Object(ht.composeWithDevTools)(Object(pt.applyMiddleware)(dt.a))),wt=(a(265),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(re.a,{store:kt},r.a.createElement(p.a,null,r.a.createElement(d.a,{component:mt})))}}]),t}(n.Component));o.a.render(r.a.createElement(wt,null),document.getElementById("root"))}},[[120,2,1]]]);
//# sourceMappingURL=main.3a0016ee.chunk.js.map